(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,n){e.exports=n(35)},29:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(5),o=n.n(c),s=n(3),l=(n(29),n(14)),i=n(7),u=n(10),d=n.n(u),m=function(e){var t=e.user;return r.a.createElement("div",{className:"CurrentUser"},r.a.createElement("strong",null,"Selected user:"),r.a.createElement("ul",null,r.a.createElement("li",null,"#".concat(t.id)),r.a.createElement("li",null,t.name),r.a.createElement("li",null,t.email),r.a.createElement("li",null,t.phone)))},E=function(e){var t=e.todos,n=e.showUser;return r.a.createElement("div",{className:"TodoList"},r.a.createElement("strong",null,"Todos:"),r.a.createElement("ul",{className:"TodoList__list"},t.map(function(e){return r.a.createElement("li",{key:e.id,className:"TodoList__item"},r.a.createElement("label",{htmlFor:"todo-".concat(e.id)},r.a.createElement("input",{type:"checkbox",id:"todo-".concat(e.id),checked:e.completed,readOnly:!0}),e.title),r.a.createElement("button",{type:"button",onClick:function(){return n(e.userId)}},"User",e.userId))})))},p=n(1),O=n(2),b=n(16),f=n(17),L=n(4),h=n.n(L),j=n(11),N="https://jsonplaceholder.typicode.com",_=function(){var e=Object(j.a)(h.a.mark(function e(){var t,n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(2e3);case 2:return e.next=4,fetch("".concat(N,"/todos"));case 4:return t=e.sent,e.next=7,t.json();case 7:return n=e.sent,e.abrupt("return",n);case 9:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(j.a)(h.a.mark(function e(t){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(2e3);case 2:return e.next=4,fetch("".concat(N,"/users/").concat(t));case 4:return n=e.sent,e.abrupt("return",n.json());case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),y=function(e){return new Promise(function(t){setTimeout(t,e)})},U={isLoading:!1,isLoaded:!1,hasError:!1,isLoadingUser:!1,currentUser:{},todos:[]},S=Object(O.createStore)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_TODOS_LOADING":return Object(p.a)(Object(p.a)({},e),{},{isLoading:!0,hasError:!1});case"HANDLE_ERROR":return Object(p.a)(Object(p.a)({},e),{},{hasError:!0,isLoading:!1,isLoaded:!0});case"FINISH_TODOS_LOADING":return Object(p.a)(Object(p.a)({},e),{},{todos:t.todos,isLoading:!1,hasError:!1,isLoaded:!0});case"CLEAR_TODOS":return Object(p.a)(Object(p.a)({},e),{},{isLoaded:!1,todos:[]});case"START_LOADING_USER":return Object(p.a)(Object(p.a)({},e),{},{isLoadingUser:!0});case"FINISH_LOADING_USER":return Object(p.a)(Object(p.a)({},e),{},{currentUser:t.currentUser,isLoadingUser:!1});case"CLEAR_USER":return Object(p.a)(Object(p.a)({},e),{},{currentUser:{},isLoadingUser:!1});default:return e}},Object(f.composeWithDevTools)(Object(O.applyMiddleware)(b.a))),R=S;function v(){var e=Object(l.a)(["\n  display: block;\n  margin: 0 auto;\n  border: 3px solid grey;\n"]);return v=function(){return e},e}var T=Object(i.css)(v()),A=function(){var e=Object(s.b)(),t=Object(s.c)(function(e){return e}),n=t.todos,a=t.currentUser,c=t.isLoading,o=t.isLoaded,l=t.hasError,i=t.isLoadingUser,u=function(){e(function(e){e({type:"START_TODOS_LOADING"}),_().then(function(t){return e({type:"FINISH_TODOS_LOADING",todos:t})}).catch(function(){return e({type:"HANDLE_ERROR"})})})};return r.a.createElement("main",{className:"App"},r.a.createElement("section",null,c?r.a.createElement("p",{className:"info"},"Loading..."):o?l?r.a.createElement("p",{className:"info"},"Failed loading todos",r.a.createElement("button",{type:"button",onClick:u},"Reload")):r.a.createElement("p",{className:"info"},n.length," ","todos are loaded",r.a.createElement("button",{type:"button",onClick:function(){e({type:"CLEAR_TODOS"})}},"Clear")):r.a.createElement("p",{className:"info"},"Todos are not loaded yet",r.a.createElement("button",{type:"button",onClick:u},"Load")),Object.entries(a).length?r.a.createElement("p",{className:"info"},"User #",a.id,"is loaded",r.a.createElement("button",{type:"button",onClick:function(){e({type:"CLEAR_USER"})}},"Clear")):r.a.createElement("p",{className:"info"},"User is not selected")),r.a.createElement("section",null,r.a.createElement("div",{className:"content"},c?r.a.createElement(d.a,{css:T,size:50,color:"black",loading:c}):o&&!l?r.a.createElement(E,{todos:n,showUser:function(t){e(function(e){return function(t){var n=S.getState().currentUser;e!==n.id&&(t({type:"CLEAR_USER"}),t({type:"START_LOADING_USER"}),g(e).then(function(e){return t(function(e){return{type:"FINISH_LOADING_USER",currentUser:e}}(e))}))}}(t))}}):r.a.createElement(r.a.Fragment,null)),r.a.createElement("div",{className:"content content--user"},Object.entries(a).length?r.a.createElement(m,{user:a}):r.a.createElement(d.a,{css:T,size:50,color:"black",loading:i}))))},I=function(){return r.a.createElement(s.a,{store:R},r.a.createElement(A,null))};o.a.render(r.a.createElement(I,null),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.7ddf37bd.chunk.js.map